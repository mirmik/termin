<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>termin/assets/builtin_resources.py</title>
</head>
<body>
<!-- BEGIN SCAT CODE -->
&quot;&quot;&quot;<br>
Builtin&nbsp;resources&nbsp;registration.<br>
<br>
Contains&nbsp;functions&nbsp;to&nbsp;register&nbsp;built-in&nbsp;shaders,&nbsp;materials,&nbsp;meshes,&nbsp;and&nbsp;pipelines.<br>
&quot;&quot;&quot;<br>
<br>
from&nbsp;__future__&nbsp;import&nbsp;annotations<br>
<br>
from&nbsp;typing&nbsp;import&nbsp;TYPE_CHECKING,&nbsp;List<br>
<br>
if&nbsp;TYPE_CHECKING:<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.assets.resources&nbsp;import&nbsp;ResourceManager<br>
<br>
from&nbsp;termin.assets.builtin_uuids&nbsp;import&nbsp;BUILTIN_UUIDS<br>
<br>
<br>
def&nbsp;register_default_shader(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;built-in&nbsp;DefaultShader&nbsp;(Blinn-Phong).&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;DefaultShader&quot;&nbsp;in&nbsp;rm.shaders:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.materials.default_material&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEFAULT_VERT,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEFAULT_FRAG,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.shader_parser&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShaderMultyPhaseProgramm,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShaderPhase,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShasderStage,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;vertex_stage&nbsp;=&nbsp;ShasderStage(&quot;vertex&quot;,&nbsp;DEFAULT_VERT)<br>
&nbsp;&nbsp;&nbsp;&nbsp;fragment_stage&nbsp;=&nbsp;ShasderStage(&quot;fragment&quot;,&nbsp;DEFAULT_FRAG)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;phase&nbsp;=&nbsp;ShaderPhase(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phase_mark=&quot;opaque&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;priority=0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_depth_mask=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_depth_test=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_blend=False,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_cull=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stages={&quot;vertex&quot;:&nbsp;vertex_stage,&nbsp;&quot;fragment&quot;:&nbsp;fragment_stage},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uniforms=[<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_color&quot;,&nbsp;&quot;Color&quot;,&nbsp;(1.0,&nbsp;1.0,&nbsp;1.0,&nbsp;1.0)),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_albedo_texture&quot;,&nbsp;&quot;Texture&quot;,&nbsp;None),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_shininess&quot;,&nbsp;&quot;Float&quot;,&nbsp;32.0,&nbsp;1.0,&nbsp;2048.0),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_emission_color&quot;,&nbsp;&quot;Color&quot;,&nbsp;(0.0,&nbsp;0.0,&nbsp;0.0,&nbsp;1.0)),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_emission_intensity&quot;,&nbsp;&quot;Float&quot;,&nbsp;0.0,&nbsp;0.0,&nbsp;100.0),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;program&nbsp;=&nbsp;ShaderMultyPhaseProgramm(program=&quot;DefaultShader&quot;,&nbsp;phases=[phase])<br>
&nbsp;&nbsp;&nbsp;&nbsp;rm.register_shader(&quot;DefaultShader&quot;,&nbsp;program,&nbsp;uuid=BUILTIN_UUIDS[&quot;DefaultShader&quot;])<br>
<br>
<br>
def&nbsp;register_pbr_shader(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;built-in&nbsp;PBR&nbsp;shader.&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;PBRShader&quot;&nbsp;in&nbsp;rm.shaders:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.materials.pbr_material&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PBR_VERT,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PBR_FRAG,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.shader_parser&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShaderMultyPhaseProgramm,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShaderPhase,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShasderStage,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;vertex_stage&nbsp;=&nbsp;ShasderStage(&quot;vertex&quot;,&nbsp;PBR_VERT)<br>
&nbsp;&nbsp;&nbsp;&nbsp;fragment_stage&nbsp;=&nbsp;ShasderStage(&quot;fragment&quot;,&nbsp;PBR_FRAG)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;phase&nbsp;=&nbsp;ShaderPhase(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phase_mark=&quot;opaque&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;priority=0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_depth_mask=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_depth_test=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_blend=False,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_cull=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stages={&quot;vertex&quot;:&nbsp;vertex_stage,&nbsp;&quot;fragment&quot;:&nbsp;fragment_stage},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uniforms=[<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_color&quot;,&nbsp;&quot;Color&quot;,&nbsp;(1.0,&nbsp;1.0,&nbsp;1.0,&nbsp;1.0)),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_albedo_texture&quot;,&nbsp;&quot;Texture&quot;,&nbsp;None),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_metallic&quot;,&nbsp;&quot;Float&quot;,&nbsp;0.0,&nbsp;0.0,&nbsp;1.0),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_roughness&quot;,&nbsp;&quot;Float&quot;,&nbsp;0.5,&nbsp;0.0,&nbsp;1.0),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;program&nbsp;=&nbsp;ShaderMultyPhaseProgramm(program=&quot;PBRShader&quot;,&nbsp;phases=[phase])<br>
&nbsp;&nbsp;&nbsp;&nbsp;rm.register_shader(&quot;PBRShader&quot;,&nbsp;program,&nbsp;uuid=BUILTIN_UUIDS[&quot;PBRShader&quot;])<br>
<br>
<br>
def&nbsp;register_skinned_shader(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;built-in&nbsp;SkinnedShader&nbsp;for&nbsp;skeletal&nbsp;animation.&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;SkinnedShader&quot;&nbsp;in&nbsp;rm.shaders:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.materials.skinned_material&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SKINNED_VERT,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SKINNED_FRAG,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.shader_parser&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShaderMultyPhaseProgramm,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShaderPhase,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShasderStage,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;vertex_stage&nbsp;=&nbsp;ShasderStage(&quot;vertex&quot;,&nbsp;SKINNED_VERT)<br>
&nbsp;&nbsp;&nbsp;&nbsp;fragment_stage&nbsp;=&nbsp;ShasderStage(&quot;fragment&quot;,&nbsp;SKINNED_FRAG)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;phase&nbsp;=&nbsp;ShaderPhase(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phase_mark=&quot;opaque&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;priority=0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_depth_mask=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_depth_test=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_blend=False,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gl_cull=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stages={&quot;vertex&quot;:&nbsp;vertex_stage,&nbsp;&quot;fragment&quot;:&nbsp;fragment_stage},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uniforms=[<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_color&quot;,&nbsp;&quot;Color&quot;,&nbsp;(1.0,&nbsp;1.0,&nbsp;1.0,&nbsp;1.0)),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_albedo_texture&quot;,&nbsp;&quot;Texture&quot;,&nbsp;None),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_shininess&quot;,&nbsp;&quot;Float&quot;,&nbsp;32.0,&nbsp;1.0,&nbsp;2048.0),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_emission_color&quot;,&nbsp;&quot;Color&quot;,&nbsp;(0.0,&nbsp;0.0,&nbsp;0.0,&nbsp;1.0)),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaterialProperty(&quot;u_emission_intensity&quot;,&nbsp;&quot;Float&quot;,&nbsp;0.0,&nbsp;0.0,&nbsp;100.0),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;program&nbsp;=&nbsp;ShaderMultyPhaseProgramm(program=&quot;SkinnedShader&quot;,&nbsp;phases=[phase])<br>
&nbsp;&nbsp;&nbsp;&nbsp;rm.register_shader(&quot;SkinnedShader&quot;,&nbsp;program,&nbsp;uuid=BUILTIN_UUIDS[&quot;SkinnedShader&quot;])<br>
<br>
<br>
def&nbsp;register_builtin_shaders(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;all&nbsp;built-in&nbsp;shaders.&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_default_shader(rm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_pbr_shader(rm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_skinned_shader(rm)<br>
<br>
<br>
def&nbsp;register_builtin_materials(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;built-in&nbsp;materials.&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.core.material&nbsp;import&nbsp;Material<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.core.texture_handle&nbsp;import&nbsp;get_white_texture_handle<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Ensure&nbsp;shaders&nbsp;are&nbsp;registered<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_builtin_shaders(rm)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;white_tex&nbsp;=&nbsp;get_white_texture_handle()<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;DefaultMaterial&nbsp;(Blinn-Phong)<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;DefaultMaterial&quot;&nbsp;not&nbsp;in&nbsp;rm.materials:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shader&nbsp;=&nbsp;rm.shaders.get(&quot;DefaultShader&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shader&nbsp;is&nbsp;not&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat&nbsp;=&nbsp;Material.from_parsed(shader,&nbsp;textures={&quot;u_albedo_texture&quot;:&nbsp;white_tex})<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.name&nbsp;=&nbsp;&quot;DefaultMaterial&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.color&nbsp;=&nbsp;(0.3,&nbsp;0.85,&nbsp;0.9,&nbsp;1.0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_material(&quot;DefaultMaterial&quot;,&nbsp;mat,&nbsp;uuid=BUILTIN_UUIDS[&quot;DefaultMaterial&quot;])<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;PBRMaterial<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;PBRMaterial&quot;&nbsp;not&nbsp;in&nbsp;rm.materials:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shader&nbsp;=&nbsp;rm.shaders.get(&quot;PBRShader&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shader&nbsp;is&nbsp;not&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat&nbsp;=&nbsp;Material.from_parsed(shader,&nbsp;textures={&quot;u_albedo_texture&quot;:&nbsp;white_tex})<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.name&nbsp;=&nbsp;&quot;PBRMaterial&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.color&nbsp;=&nbsp;(0.8,&nbsp;0.8,&nbsp;0.8,&nbsp;1.0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_material(&quot;PBRMaterial&quot;,&nbsp;mat,&nbsp;uuid=BUILTIN_UUIDS[&quot;PBRMaterial&quot;])<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;GridMaterial&nbsp;(calibration&nbsp;grid)<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;GridMaterial&quot;&nbsp;not&nbsp;in&nbsp;rm.materials:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.render.materials.grid_material&nbsp;import&nbsp;GridMaterial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat&nbsp;=&nbsp;GridMaterial(color=(0.8,&nbsp;0.8,&nbsp;0.8,&nbsp;1.0),&nbsp;grid_spacing=1.0,&nbsp;line_width=0.02)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.name&nbsp;=&nbsp;&quot;GridMaterial&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_material(&quot;GridMaterial&quot;,&nbsp;mat,&nbsp;uuid=BUILTIN_UUIDS[&quot;GridMaterial&quot;])<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;SkinnedMaterial&nbsp;(skeletal&nbsp;animation)<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;SkinnedMaterial&quot;&nbsp;not&nbsp;in&nbsp;rm.materials:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shader&nbsp;=&nbsp;rm.shaders.get(&quot;SkinnedShader&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shader&nbsp;is&nbsp;not&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat&nbsp;=&nbsp;Material.from_parsed(shader,&nbsp;textures={&quot;u_albedo_texture&quot;:&nbsp;white_tex})<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.name&nbsp;=&nbsp;&quot;SkinnedMaterial&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mat.color&nbsp;=&nbsp;(0.8,&nbsp;0.8,&nbsp;0.8,&nbsp;1.0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_material(&quot;SkinnedMaterial&quot;,&nbsp;mat,&nbsp;uuid=BUILTIN_UUIDS[&quot;SkinnedMaterial&quot;])<br>
<br>
<br>
def&nbsp;register_builtin_meshes(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;List[str]:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Register&nbsp;built-in&nbsp;primitive&nbsp;meshes.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&nbsp;of&nbsp;registered&nbsp;mesh&nbsp;names.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.core.mesh_asset&nbsp;import&nbsp;MeshAsset<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.mesh.mesh&nbsp;import&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TexturedCubeMesh,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UVSphereMesh,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PlaneMesh,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CylinderMesh,<br>
&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;registered&nbsp;=&nbsp;[]<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Cube&nbsp;with&nbsp;correct&nbsp;UVs&nbsp;(texture&nbsp;on&nbsp;each&nbsp;face)<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;Cube&quot;&nbsp;not&nbsp;in&nbsp;rm._mesh_assets:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cube&nbsp;=&nbsp;MeshAsset.from_mesh3(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TexturedCubeMesh(size=1.0),&nbsp;name=&quot;Cube&quot;,&nbsp;uuid=BUILTIN_UUIDS[&quot;Cube&quot;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_mesh_asset(&quot;Cube&quot;,&nbsp;cube,&nbsp;uuid=BUILTIN_UUIDS[&quot;Cube&quot;])<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registered.append(&quot;Cube&quot;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Sphere<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;Sphere&quot;&nbsp;not&nbsp;in&nbsp;rm._mesh_assets:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sphere&nbsp;=&nbsp;MeshAsset.from_mesh3(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UVSphereMesh(radius=0.5,&nbsp;n_meridians=32,&nbsp;n_parallels=16),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;Sphere&quot;,&nbsp;uuid=BUILTIN_UUIDS[&quot;Sphere&quot;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_mesh_asset(&quot;Sphere&quot;,&nbsp;sphere,&nbsp;uuid=BUILTIN_UUIDS[&quot;Sphere&quot;])<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registered.append(&quot;Sphere&quot;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Plane<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;Plane&quot;&nbsp;not&nbsp;in&nbsp;rm._mesh_assets:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plane&nbsp;=&nbsp;MeshAsset.from_mesh3(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PlaneMesh(width=1.0,&nbsp;depth=1.0),&nbsp;name=&quot;Plane&quot;,&nbsp;uuid=BUILTIN_UUIDS[&quot;Plane&quot;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_mesh_asset(&quot;Plane&quot;,&nbsp;plane,&nbsp;uuid=BUILTIN_UUIDS[&quot;Plane&quot;])<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registered.append(&quot;Plane&quot;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Cylinder<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;Cylinder&quot;&nbsp;not&nbsp;in&nbsp;rm._mesh_assets:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cylinder&nbsp;=&nbsp;MeshAsset.from_mesh3(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CylinderMesh(radius=0.5,&nbsp;height=1.0),&nbsp;name=&quot;Cylinder&quot;,&nbsp;uuid=BUILTIN_UUIDS[&quot;Cylinder&quot;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm.register_mesh_asset(&quot;Cylinder&quot;,&nbsp;cylinder,&nbsp;uuid=BUILTIN_UUIDS[&quot;Cylinder&quot;])<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registered.append(&quot;Cylinder&quot;)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;registered<br>
<br>
<br>
def&nbsp;register_default_pipeline(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;built-in&nbsp;default&nbsp;render&nbsp;pipeline.&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rm.get_pipeline(&quot;Default&quot;)&nbsp;is&nbsp;not&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;termin.visualization.core.viewport&nbsp;import&nbsp;make_default_pipeline<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;pipeline&nbsp;=&nbsp;make_default_pipeline()<br>
&nbsp;&nbsp;&nbsp;&nbsp;rm.register_pipeline(&quot;Default&quot;,&nbsp;pipeline,&nbsp;uuid=BUILTIN_UUIDS.get(&quot;DefaultPipeline&quot;))<br>
<br>
<br>
def&nbsp;register_all_builtins(rm:&nbsp;&quot;ResourceManager&quot;)&nbsp;-&gt;&nbsp;None:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Register&nbsp;all&nbsp;built-in&nbsp;resources&nbsp;(shaders,&nbsp;materials,&nbsp;meshes,&nbsp;pipelines).&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_builtin_shaders(rm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_builtin_materials(rm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_builtin_meshes(rm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;register_default_pipeline(rm)<br>
<!-- END SCAT CODE -->
</body>
</html>
