<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>termin/geombase/README.md</title>
</head>
<body>
<!-- BEGIN SCAT CODE -->
# Geombase Module<br>
<br>
Модуль базовых геометрических классов для представления поз и винтовых преобразований.<br>
<br>
## Содержание<br>
<br>
### `pose2.py`<br>
<br>
#### Pose2<br>
Класс для представления позы в 2D пространстве (положение + ориентация).<br>
<br>
Поза хранится в виде:<br>
- **ang** (angle) - угол поворота в радианах<br>
- **lin** (linear) - вектор положения [x, y]<br>
<br>
**Представление:**<br>
- Использует **угол** для представления ориентации (простое и эффективное для 2D)<br>
- Предоставляет методы для получения матриц вращения 2×2 и трансформации 3×3<br>
- Подходит для 2D робототехники, планирования траекторий<br>
- Поддерживает композицию через оператор умножения<br>
<br>
### `pose3.py`<br>
<br>
#### Pose3<br>
Класс для представления позы в 3D пространстве (положение + ориентация).<br>
<br>
Поза хранится в виде:<br>
- **ang** (angle) - кватернион вращения [x, y, z, w]<br>
- **lin** (linear) - вектор положения [x, y, z]<br>
<br>
**Представление:**<br>
- Использует **кватернионы** для представления ориентации (компактно, без gimbal lock)<br>
- Предоставляет методы для получения матриц вращения при необходимости<br>
- Подходит для интерполяции и кинематических цепей<br>
- Поддерживает композицию через оператор умножения<br>
<br>
**Новые возможности:**<br>
- **Properties x, y, z** - прямой доступ к координатам положения<br>
- **normalize()** - нормализация кватерниона к единичной длине<br>
- **distance(other)** - расстояние между двумя позами<br>
- **to_axis_angle() / from_axis_angle()** - конвертация axis-angle ↔ quaternion<br>
- **to_euler() / from_euler()** - конвертация Euler angles ↔ quaternion (порядок 'xyz')<br>
- **looking_at()** - создать позу, направленную на заданную точку<br>
- **as_matrix34()** - получить 3×4 матрицу трансформации<br>
<br>
### `screw.py`<br>
<br>
Классы для винтовых преобразований (твистов и ренчей).<br>
<br>
#### Screw<br>
Базовый класс винта - пара (угловая часть, линейная часть).<br>
<br>
**Применение:**<br>
- Твисты (twist) - мгновенные скорости<br>
- Ренчи (wrench) - силы и моменты<br>
- Якобианы кинематических цепей<br>
<br>
#### Screw2<br>
Винт в 2D пространстве (плоский случай).<br>
<br>
#### Screw3<br>
Винт в 3D пространстве.<br>
<br>
Винт представляет:<br>
- **Твист** (twist, velocity screw): мгновенная скорость твердого тела (ang = угловая скорость ω, lin = линейная скорость v)<br>
- **Ренч** (wrench, force screw): система сил на твердом теле (ang = момент M, lin = сила F)<br>
<br>
## Связь с другими модулями<br>
<br>
- **kinematics** - использует Pose2/Pose3 для Transform2/Transform3<br>
- **ga201** - использует Screw2/Screw3 для геометрической алгебры<br>
- **physics** - использует винты для описания движения и сил<br>
- **fem** - использует Pose2/Pose3 для коллайдеров и многотельной механики<br>
<br>
## Тесты<br>
<br>
- `utest/pose2_test.py` - тесты Pose2 (14 тестов)<br>
- `utest/pose_test.py` - тесты Pose3 (23 теста)<br>
- `utest/screw_test.py` - тесты Screw2 (из ga201, 6 тестов)<br>
<br>
## Зависимости<br>
<br>
- **numpy** - для матричных и векторных операций<br>
- **math** - для тригонометрических функций<br>
<!-- END SCAT CODE -->
</body>
</html>
